# Проект "De Streaming"
# Автор проекта - Струк Владислав Олегович
Данная система выполянет следующие функции:
1) Эмулирует поток информации о недвижимости из файла csv
2) Обрабатывает данные в режиме стриминга путём группировки и вычисления значений (средняя цена недвижимости,средняя площадь, общее число объявлений,средняя цена за квадратный метр);
3) Обновляет агрегированные данные и записывает результаты в csv-файл;
4) Отображает агрегированные данные на дашборде;
В ходе решения использовались следующие библиотки для работы с данными:
1) pandas - библиотека для обработки и анализа данных. Используется для загрузки данных из csv - файлов, преобразования данных, филльтрации данных,агрегирования данных;
2) altair - библиотека для построения графиков;
3) streamlit - библиотека для отображения данных в реальном времени.
Принцип работы приложения.
1. Обработка данных. Осуществляется в файлах streaming.py (код фунщкций) и thread_run.py(запуск потоков). Для этого используются следующие функции:
1) Эмуляция потока данных
Осуществляется с помощью функции emulate_of_data. Данная функия читает данные из csv-файла, затем помещает каждую запись в очередь для дальнейшей обработки. Записи отправляются с задержкой (5 записей в секунду).В качестве эксперимента работы приложения было взято 40 записей из csv-файла;
2) Обработка данных. Присходит с помощью функции aggreagate_results. В данной функции происходит фильтрация данных по определённым условиям (цена больше 50000 или жилплощадь больше 20), далее рассчитывается средняя цена за квадратный метр, затем данные группируются по районам и типу недвижимости. После этого предварительно вычисляется средняя цена недвижимости, средняя площадь, общее количество объявлений, cредняя цена за квадртаный метр;
3) Обновление и запись агрегированных данных. Происходит с помощью функции handling_of_data. В данной функции происходит непрерывное извлечение сгруппиррованных записей из очереди, их обновление с задержкой в 30 секунд и запись в выходной файл csv.
2. Визуализация данных. Построение графиков происходит с помощью библиотеки altair и streamlit. Код визуализации расположен в файле graphis.py. 
Отображаются следующие дашборды в виде гистограмм:
1) Максимальная средняя цена по типу недвижимости;
2) Максимальное среднее значение жилой площади по типов недвижимости;
3) Суммарное число рекламы для типа недвижимости;
4) Максимальная средняя цена за квадратный метр по типу недвижимости.
3. Запуск приложения:
1) Для процесса потоковой передачи и обработки данных нужно запустить файл thread_run.py:
python thread_run.py
2) Для отображения визуалищированной информации в виде дашбордов нужно запустить файл visualization.py:
streamlit run visualization.py

